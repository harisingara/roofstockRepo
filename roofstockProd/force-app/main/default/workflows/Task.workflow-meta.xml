<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Appt_Missed</fullName>
        <description>Appt Missed</description>
        <protected>false</protected>
        <recipients>
            <type>creator</type>
        </recipients>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderAddress>support@roofstock.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>unfiled$public/Missed_Appointment</template>
    </alerts>
    <alerts>
        <fullName>New_Outreach_Email</fullName>
        <description>New Outreach Email</description>
        <protected>false</protected>
        <recipients>
            <type>owner</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/New_Outreach_Email</template>
    </alerts>
    <alerts>
        <fullName>Seller_Status_Cancel_Cert</fullName>
        <ccEmails>sellerhelp@roofstock.com</ccEmails>
        <description>Seller Status Cancel Cert</description>
        <protected>false</protected>
        <recipients>
            <field>Email</field>
            <type>email</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/Seller_Status_Cancel_Certification</template>
    </alerts>
    <alerts>
        <fullName>Seller_Status_Closing_Check_in</fullName>
        <ccEmails>sellerhelp@roofstock.com</ccEmails>
        <description>Seller Status Closing Check in</description>
        <protected>false</protected>
        <recipients>
            <field>Email</field>
            <type>email</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/Seller_Status_Closing_Check_in</template>
    </alerts>
    <alerts>
        <fullName>Seller_Status_Follow_Up</fullName>
        <ccEmails>sellerhelp@roofstock.com</ccEmails>
        <description>Seller Status Follow Up</description>
        <protected>false</protected>
        <recipients>
            <field>Email</field>
            <type>email</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>Seller_AM_Emails/Closing_Check_In_Follow_Up</template>
    </alerts>
    <alerts>
        <fullName>Seller_Status_Open_Documents</fullName>
        <ccEmails>sellerhelp@roofstock.com</ccEmails>
        <description>Seller Status Open Documents Required</description>
        <protected>false</protected>
        <recipients>
            <field>Email</field>
            <type>email</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/Seller_Status_Open_Need_Docs</template>
    </alerts>
    <alerts>
        <fullName>Seller_Status_Open_Documents_Required</fullName>
        <description>Seller Status Open Documents Required</description>
        <protected>false</protected>
        <recipients>
            <field>Email</field>
            <type>email</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/Seller_Status_Open_Need_Docs</template>
    </alerts>
    <alerts>
        <fullName>Seller_Status_Reminder_Due_Date</fullName>
        <ccEmails>sellerhelp@roofstock.com</ccEmails>
        <description>Seller Status Reminder</description>
        <protected>false</protected>
        <recipients>
            <field>Email</field>
            <type>email</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/Seller_Status_Reminder</template>
    </alerts>
    <alerts>
        <fullName>Seller_Status_Reminder_Email</fullName>
        <ccEmails>sellerhelp@roofstock.com</ccEmails>
        <description>Seller Status Reminder Email</description>
        <protected>false</protected>
        <recipients>
            <field>Email</field>
            <type>email</type>
        </recipients>
        <senderType>CurrentUser</senderType>
        <template>unfiled$public/Seller_Status_Reminder</template>
    </alerts>
    <fieldUpdates>
        <fullName>Activity_Type</fullName>
        <description>Syncs Activity Type to Activity Type 2 for reporting</description>
        <field>Activity_Type_2__c</field>
        <formula>TEXT(Type)</formula>
        <name>Activity Type</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Stamp_Task_Subject</fullName>
        <field>Subject</field>
        <formula>&quot;Milestone Task&quot;</formula>
        <name>Stamp Task Subject</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Age</fullName>
        <field>Age__c</field>
        <formula>Completed_Date__c -  ActivityCreatedDateTime__c</formula>
        <name>Update Age</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Completed_Date</fullName>
        <field>Completed_Date__c</field>
        <formula>NOW()</formula>
        <name>Update Completed Date</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>Activity Type 2</fullName>
        <actions>
            <name>Activity_Type</name>
            <type>FieldUpdate</type>
        </actions>
        <active>false</active>
        <criteriaItems>
            <field>Task.Type</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <description>Syncs Activity Type to Activity Type 2 for reporting purposes</description>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Ask a Question Alert</fullName>
        <active>true</active>
        <criteriaItems>
            <field>Task.OwnerId</field>
            <operation>notEqual</operation>
        </criteriaItems>
        <criteriaItems>
            <field>Task.Subject</field>
            <operation>equals</operation>
            <value>Ask a Question</value>
        </criteriaItems>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Missed Appointment</fullName>
        <actions>
            <name>Appt_Missed</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <description>When an SQL no-shows their appointment, this sends an email alert to the AE and the Lead Owner so the SDR can follow up.</description>
        <formula>ISPICKVAL(Type, &quot;Appointment&quot;) &amp;&amp;  ISPICKVAL(PRIORVALUE(Status), &quot;Open&quot;) &amp;&amp; ISPICKVAL(Status, &quot;No-Show&quot;)</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Seller Status Cancel Certification</fullName>
        <actions>
            <name>Seller_Status_Cancel_Cert</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Task.Seller_Status__c</field>
            <operation>equals</operation>
            <value>Cancel Cert</value>
        </criteriaItems>
        <criteriaItems>
            <field>Task.Status</field>
            <operation>notEqual</operation>
            <value>Completed</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Seller Status Closing Check in</fullName>
        <actions>
            <name>Seller_Status_Closing_Check_in</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Task.Seller_Status__c</field>
            <operation>equals</operation>
            <value>Seller Closing Check in</value>
        </criteriaItems>
        <criteriaItems>
            <field>Task.Status</field>
            <operation>notEqual</operation>
            <value>Completed</value>
        </criteriaItems>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Seller Status Follow Up</fullName>
        <actions>
            <name>Seller_Status_Follow_Up</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Task.Seller_Status__c</field>
            <operation>equals</operation>
            <value>Closing Check-In Follow Up</value>
        </criteriaItems>
        <criteriaItems>
            <field>Task.Status</field>
            <operation>notEqual</operation>
            <value>Completed</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Seller Status Open Need Docs</fullName>
        <actions>
            <name>Seller_Status_Open_Documents</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Task.Seller_Status__c</field>
            <operation>equals</operation>
            <value>Open Need Docs</value>
        </criteriaItems>
        <criteriaItems>
            <field>Task.Status</field>
            <operation>notEqual</operation>
            <value>Completed</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Seller Status Reminder</fullName>
        <actions>
            <name>Seller_Status_Reminder_Email</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Task.Seller_Status__c</field>
            <operation>equals</operation>
            <value>Reminder</value>
        </criteriaItems>
        <criteriaItems>
            <field>Task.Status</field>
            <operation>notEqual</operation>
            <value>Completed</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <offsetFromField>Task.ActivityDate</offsetFromField>
            <timeLength>0</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Subject Contains OBC %2F Outbound Call</fullName>
        <active>false</active>
        <booleanFilter>1 OR 2</booleanFilter>
        <criteriaItems>
            <field>Task.Subject</field>
            <operation>contains</operation>
            <value>OBC</value>
        </criteriaItems>
        <criteriaItems>
            <field>Task.Subject</field>
            <operation>contains</operation>
            <value>Outbound Call</value>
        </criteriaItems>
        <description>When a task manually created by a member of the Sales Team contains OBC / Outbound Call to record a call out to a potential investor (buyer or seller); direct these tasks to populate the &quot;Last Outbound Call Date&quot; data field.</description>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Update Age</fullName>
        <actions>
            <name>Update_Age</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Update_Completed_Date</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <criteriaItems>
            <field>Task.IsClosed</field>
            <operation>equals</operation>
            <value>True</value>
        </criteriaItems>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Update Last Call Date</fullName>
        <active>false</active>
        <criteriaItems>
            <field>Task.Subject</field>
            <operation>contains</operation>
            <value>Outreach</value>
        </criteriaItems>
        <criteriaItems>
            <field>Task.Subject</field>
            <operation>contains</operation>
            <value>Call</value>
        </criteriaItems>
        <description>Automation to stamp current date into Last Call Date field on related object when a task is created with certain criteria from Outreach</description>
        <triggerType>onCreateOnly</triggerType>
    </rules>
</Workflow>
